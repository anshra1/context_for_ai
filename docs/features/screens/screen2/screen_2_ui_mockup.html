code
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Explorer Tree View</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for the Inter font and smooth transitions */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a1a; /* Dark background to match the image */
            color: #e0e0e0; /* Light text color */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top for better content flow */
            min-height: 100vh;
            padding: 2rem;
            margin: 0;
            box-sizing: border-box;
        }
        /* Custom scrollbar for the file list */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #2b2b2b; /* Darker track */
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #4a4a4a; /* Darker thumb */
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #5a5a5a;
        }
        /* Hide default checkbox */
        .custom-checkbox {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            width: 16px;
            height: 16px;
            border: 1px solid #555; /* Gray-600 for dark theme */
            border-radius: 4px;
            cursor: pointer;
            outline: none;
            transition: all 0.15s ease-in-out;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background-color: #3c3c3c; /* Darker background for checkbox */
        }
        /* Style for checked state */
        .custom-checkbox:checked {
            background-color: #007bff; /* Blue-500 */
            border-color: #007bff;
        }
        /* Checkmark icon for checked state */
        .custom-checkbox:checked::after {
            content: '';
            position: absolute;
            width: 4px;
            height: 8px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
        /* Focus state */
        .custom-checkbox:focus {
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.5); /* Blue with opacity */
        }
        /* Hover state */
        .custom-checkbox:hover {
            border-color: #0056b3; /* Darker blue on hover */
        }
        /* Style for selected row */
        .file-row.selected {
            background-color: #333; /* Slightly lighter dark for selected row */
        }
        /* Adjust chevron rotation for expanded state */
        .chevron-toggle[aria-expanded="true"] svg {
            transform: rotate(90deg);
        }
    </style>
</head>
<body>
    <div class="w-full max-w-4xl bg-[#2b2b2b] rounded-lg shadow-xl p-6 border border-[#3c3c3c]">
        <!-- Top Header Section -->
        <div class="flex justify-between items-center mb-6 pb-4 border-b border-[#3c3c3c]">
            <div class="flex items-center text-lg font-semibold text-[#b0b0b0]">
                <svg class="w-6 h-6 mr-2 text-[#b0b0b0]" viewBox="0 0 24 24" fill="currentColor" stroke="none">
                    <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
                </svg>
                File Export
            </div>
            <div class="flex items-center text-sm text-[#b0b0b0]">
                <span class="mr-4"># No. of Files</span>
                <span class="flex items-center">
                    <svg class="w-4 h-4 mr-1 text-[#b0b0b0]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6z"/><polyline points="14 2 14 8 20 8"/>
                    </svg>
                    Token Estimate: ~5,240 tokens
                </span>
            </div>
        </div>
        <!-- Filters Section -->
        <div class="mb-6">
            <h3 class="text-base font-medium text-white mb-3">Filters</h3>
            <div class="flex flex-col sm:flex-row gap-3 mb-4">
                <input type="text" placeholder="Add filter (e.g., .dart, .yaml)"
                       class="flex-grow p-2.5 rounded-md bg-[#3c3c3c] border border-[#555] text-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500">
                <button class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-4 rounded-md transition-colors duration-200">
                    Add Filter
                </button>
            </div>
            <div class="flex flex-wrap gap-2">
                <span class="bg-[#444] text-white text-sm px-3 py-1.5 rounded-md flex items-center">.dart <span class="ml-2 cursor-pointer text-gray-400 hover:text-white">×</span></span>
                <span class="bg-[#444] text-white text-sm px-3 py-1.5 rounded-md flex items-center">.yaml <span class="ml-2 cursor-pointer text-gray-400 hover:text-white">×</span></span>
                <span class="bg-[#444] text-white text-sm px-3 py-1.5 rounded-md flex items-center">.json <span class="ml-2 cursor-pointer text-gray-400 hover:text-white">×</span></span>
            </div>
        </div>
        <!-- Search Bar Section -->
        <div class="mb-6">
            <div class="flex flex-col sm:flex-row items-center gap-3">
                <div class="relative flex-grow w-full">
                    <input type="text" id="search-input" placeholder="Search files..."
                           class="w-full pl-10 pr-3 py-2.5 rounded-md bg-[#3c3c3c] border border-[#555] text-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500">
                    <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
                <button class="text-blue-500 hover:underline text-sm font-medium py-2.5 px-4 rounded-md whitespace-nowrap">
                    Clear All Selections
                </button>
            </div>
        </div>
        <!-- File and Folder List Container -->
        <!-- Adjusted height for desktop: min-h-96 (24rem) and max-h to fill available space -->
        <div id="file-list-container" class="custom-scrollbar overflow-y-auto min-h-96 max-h-[calc(100vh-350px)] border border-[#3c3c3c] rounded-md p-2">
            <!-- File and folder rows will be dynamically added here by JavaScript -->
        </div>
        <!-- Bottom Bar Buttons -->
        <div class="mt-6 pt-4 border-t border-[#3c3c3c] flex flex-col sm:flex-row justify-center gap-4">
            <button class="flex items-center justify-center bg-transparent border border-blue-600 text-blue-600 font-medium py-2.5 px-5 rounded-md hover:bg-blue-600 hover:text-white transition-colors duration-200">
                <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                </svg>
                Preview
            </button>
            <button class="flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-5 rounded-md transition-colors duration-200">
                <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                </svg>
                Copy to Clipboard
            </button>
            <button class="flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-5 rounded-md transition-colors duration-200">
                <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                    <polyline points="17 21 17 13 7 13 7 21"></polyline>
                    <polyline points="7 3 7 8 15 8"></polyline>
                </svg>
                Save as .txt
            </button>
        </div>
    </div>
    <script>
        // --- Data Structure for File System ---
        // This array represents the root level of our file system.
        // Each object can be a 'folder' or a 'file'.
        // Folders have a 'children' array for nested items.
        // 'isExpanded' controls the visibility of children for folders.
        // 'isSelected' tracks the selection state of an item.
        const fileSystemData = [
            {
                id: 'root-1', name: 'Documents', type: 'folder', isExpanded: true, isSelected: false, children: [
                    { id: 'doc-1', name: 'Report.docx', type: 'file', isSelected: false },
                    {
                        id: 'folder-2', name: 'Projects', type: 'folder', isExpanded: false, isSelected: false, children: [
                            {
                                id: 'proj-1', name: 'Website', type: 'folder', isExpanded: false, isSelected: false, children: [
                                    { id: 'web-1', name: 'index.html', type: 'file', isSelected: false },
                                    { id: 'web-2', name: 'styles.css', type: 'file', isSelected: false },
                                    { id: 'web-3', name: 'scripts.js', type: 'file', isSelected: false }
                                ]
                            },
                            { id: 'proj-2', name: 'MobileApp.swift', type: 'file', isSelected: false },
                            { id: 'proj-3', name: 'BackendAPI.py', type: 'file', isSelected: false }
                        ]
                    },
                    { id: 'doc-2', name: 'MeetingNotes.txt', type: 'file', isSelected: false },
                    { id: 'doc-3', name: 'Presentation.pptx', type: 'file', isSelected: false }
                ]
            },
            {
                id: 'root-3', name: 'Downloads', type: 'folder', isExpanded: false, isSelected: false, children: [
                    { id: 'dl-1', name: 'Setup.exe', type: 'file', isSelected: false },
                    { id: 'dl-2', name: 'ImagePack.zip', type: 'file', isSelected: false }
                ]
            },
            { id: 'root-4', name: 'VacationPhotos.jpg', type: 'file', isSelected: false },
            { id: 'root-5', name: 'README.md', type: 'file', isSelected: false }
        ];
        // Reference to the main file list container in the DOM
        const fileListContainer = document.getElementById('file-list-container');
        const searchInput = document.getElementById('search-input');
        // --- Icon SVGs ---
        // These are inline SVG definitions for various icons used in the UI.
        // Using inline SVGs allows for easy styling with CSS (e.g., fill, stroke).
        const icons = {
            chevronRight: `<svg class="w-4 h-4 text-gray-400 transform transition-transform duration-150 ease-in-out" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>`,
            chevronDown: `<svg class="w-4 h-4 text-gray-400 transform rotate-90 transition-transform duration-150 ease-in-out" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>`,
            folder: `<svg class="w-5 h-5 text-yellow-400" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M10 4H4c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/></svg>`,
            file: `<svg class="w-5 h-5 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>`
        };
        // --- Core Rendering Function ---
        // Recursively renders the file system tree into the DOM.
        // `data`: The array of file/folder objects to render.
        // `parentElement`: The DOM element to append the rendered items to.
        // `depth`: The current nesting level, used for indentation.
        function renderTree(data, parentElement, depth) {
            data.forEach(item => {
                // Create the main row container for each item
                const row = document.createElement('div');
                row.dataset.id = item.id; // Store item ID for event handling
                row.dataset.type = item.type; // Store item type
                row.classList.add(
                    'file-row',
                    'flex', 'items-center', 'py-2', 'px-2', 'rounded-md', 'cursor-pointer',
                    'hover:bg-[#333]', 'transition-colors', 'duration-150', 'ease-in-out',
                    'text-gray-200' // Ensure text color for dark theme
                );
                // Apply selected class if item is selected
                if (item.isSelected) {
                    row.classList.add('selected');
                }
                // Add indentation based on depth
                const indentation = depth * 24; // 24px per level
                row.style.paddingLeft = `${indentation + 8}px`; // Add base padding of 8px
                // Construct the inner HTML for the row
                row.innerHTML = `
                    <!-- Selection Checkbox (moved to the left) -->
                    <input type="checkbox" class="custom-checkbox flex-shrink-0 mr-2" ${item.isSelected ? 'checked' : ''} aria-checked="${item.isSelected}">
                    <div class="flex items-center flex-grow">
                        <!-- Chevron for folders -->
                        ${item.type === 'folder' ?
                            `<span class="chevron-toggle mr-1 flex-shrink-0" aria-expanded="${item.isExpanded}">
                                ${item.isExpanded ? icons.chevronDown : icons.chevronRight}
                            </span>` :
                            `<span class="w-4 h-4 mr-1 flex-shrink-0"></span>` // Placeholder for files to align
                        }
                        <!-- Folder/File Icon -->
                        <span class="mr-2 flex-shrink-0">
                            ${item.type === 'folder' ? icons.folder : icons.file}
                        </span>
                        <!-- Item Name -->
                        <span class="text-sm font-medium text-gray-200 truncate">${item.name}</span>
                    </div>
                `;
                parentElement.appendChild(row);
                // If it's a folder and expanded, recursively render its children
                if (item.type === 'folder' && item.isExpanded) {
                    renderTree(item.children, parentElement, depth + 1);
                }
            });
        }
        // --- Find Item by ID ---
        // Helper function to find a file system item by its ID.
        // `id`: The ID of the item to find.
        // `data`: The array to search within (defaults to fileSystemData).
        function findItemById(id, data = fileSystemData) {
            for (const item of data) {
                if (item.id === id) {
                    return item;
                }
                if (item.type === 'folder' && item.children) {
                    const found = findItemById(id, item.children);
                    if (found) {
                        return found;
                    }
                }
            }
            return null;
        }
        // --- Toggle Expand/Collapse for Folders ---
        // Toggles the 'isExpanded' state of a folder and updates the UI.
        // `item`: The folder object to toggle.
        function toggleExpand(item) {
            if (item.type === 'folder') {
                item.isExpanded = !item.isExpanded;
                updateUI(); // Re-render the entire tree to reflect changes
            }
        }
        // --- Recursive Selection Logic ---
        // Sets the 'isSelected' state for an item and its children (if folder).
        // `item`: The item to modify.
        // `selectState`: Boolean, true for select, false for deselect.
        function setSelectionRecursive(item, selectState) {
            item.isSelected = selectState;
            if (item.type === 'folder' && item.children) {
                item.children.forEach(child => setSelectionRecursive(child, selectState));
            }
        }
        // --- Update UI Function ---
        // Clears the current list and re-renders the entire file system tree.
        // This is called after any data change (expand/collapse, selection, search).
        function updateUI() {
            fileListContainer.innerHTML = ''; // Clear existing content
            const filteredData = applySearchFilter(fileSystemData, searchInput.value);
            renderTree(filteredData, fileListContainer, 0); // Re-render from root
        }
        // --- Apply Search Filter ---
        // Filters the file system data based on the search query.
        // `data`: The array of file/folder objects to filter.
        // `query`: The search string.
        function applySearchFilter(data, query) {
            if (!query) return data; // If no query, return all data
            const lowerCaseQuery = query.toLowerCase();
            const filtered = [];
            data.forEach(item => {
                const matchesSelf = item.name.toLowerCase().includes(lowerCaseQuery);
                let matchesChildren = false;
                let filteredChildren = [];
                if (item.type === 'folder' && item.children) {
                    filteredChildren = applySearchFilter(item.children, query);
                    matchesChildren = filteredChildren.length > 0;
                }
                // If the item itself matches or any of its children match, include it
                if (matchesSelf || matchesChildren) {
                    const newItem = { ...item }; // Create a shallow copy
                    if (item.type === 'folder') {
                        // If it's a folder, ensure it's expanded if it or its children match
                        newItem.isExpanded = true;
                        newItem.children = filteredChildren;
                    }
                    filtered.push(newItem);
                }
            });
            return filtered;
        }
        // --- Event Listeners ---
        // Event delegation for clicks on the file list container
        fileListContainer.addEventListener('click', (event) => {
            const row = event.target.closest('.file-row');
            if (!row) return; // Not a file row
            const itemId = row.dataset.id;
            const item = findItemById(itemId);
            if (!item) return;
            // Handle Chevron Toggle Click
            const chevronToggle = event.target.closest('.chevron-toggle');
            if (chevronToggle && item.type === 'folder') {
                toggleExpand(item);
                return; // Stop further processing for this click
            }
            // Handle Checkbox Click
            const checkbox = event.target.closest('.custom-checkbox');
            if (checkbox) {
                // Prevent the row click from also triggering when checkbox is clicked
                event.stopPropagation();
                setSelectionRecursive(item, checkbox.checked);
                updateUI(); // Re-render to update selection states
                return;
            }
            // Handle Row Click (for navigation/selection if not checkbox/chevron)
            // If it's a folder, toggle its expansion
            if (item.type === 'folder') {
                toggleExpand(item);
            }
        });
        // Event listener for search input
        searchInput.addEventListener('input', () => {
            updateUI(); // Re-render the UI with the filtered data
        });
        // Initial render of the file system
        updateUI();
        // Optional: Right-click context menu mock (visual only)
        fileListContainer.addEventListener('contextmenu', (event) => {
            event.preventDefault(); // Prevent default browser context menu
            const row = event.target.closest('.file-row');
            if (!row) return;
            const existingMenu = document.getElementById('context-menu');
            if (existingMenu) existingMenu.remove();
            const contextMenu = document.createElement('div');
            contextMenu.id = 'context-menu';
            contextMenu.classList.add(
                'absolute', 'bg-[#3c3c3c]', 'border', 'border-[#555]', 'rounded-md', 'shadow-lg', 'py-1', 'z-10'
            );
            contextMenu.style.left = `${event.clientX}px`;
            contextMenu.style.top = `${event.clientY}px`;
            const menuItems = [
                { text: 'Open', icon: `<svg class="w-4 h-4 mr-2 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H5a2 2 0 00-2 2v5a2 2 0 002 2z"></path></svg>` },
                { text: 'Rename', icon: `<svg class="w-4 h-4 mr-2 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>` },
                { text: 'Delete', icon: `<svg class="w-4 h-4 mr-2 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>` },
                { text: 'Copy', icon: `<svg class="w-4 h-4 mr-2 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7v4m0 0h4m-4 0l-4-4m4 4l4 4m0 6H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"></path></svg>` },
                { text: 'Cut', icon: `<svg class="w-4 h-4 mr-2 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14V8M4 12h16"></path></svg>` }
            ];
            menuItems.forEach(item => {
                const menuItemDiv = document.createElement('div');
                menuItemDiv.classList.add(
                    'flex', 'items-center', 'px-4', 'py-2', 'text-sm', 'text-gray-200', 'hover:bg-[#4a4a4a]', 'cursor-pointer'
                );
                menuItemDiv.innerHTML = item.icon + item.text;
                contextMenu.appendChild(menuItemDiv);
            });
            document.body.appendChild(contextMenu);
            // Close context menu when clicking anywhere else
            document.addEventListener('click', function closeMenu(e) {
                if (!contextMenu.contains(e.target)) {
                    contextMenu.remove();
                    document.removeEventListener('click', closeMenu);
                }
            });
        });
    </script>
</body>
</html>

